<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Campaigns - {{ config.SITE_NAME }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Black Shepherd Foundation" class="logo">
                <span class="brand-text">Black Shepherd</span>
            </div>
            
            <div class="nav-links">
                <a href="/" class="nav-link">Home</a>
                <a href="/about" class="nav-link">About</a>
                <a href="/campaigns" class="nav-link active">Campaigns</a>
                <a href="/contact" class="nav-link">Contact</a>
                <a href="/campaigns" class="btn btn-primary">Donate Now</a>
            </div>
            
            <div class="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <a href="/" class="mobile-nav-link">Home</a>
        <a href="/about" class="mobile-nav-link">About</a>
        <a href="/campaigns" class="mobile-nav-link">Campaigns</a>
        <a href="/contact" class="mobile-nav-link">Contact</a>
        <a href="/campaigns" class="btn btn-primary">Donate Now</a>
    </div>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="page-header-content">
                <h1 class="page-title">Our Campaigns</h1>
                <p class="page-description">
                    Discover the campaigns that are making a real difference across Africa. 
                    Every donation, no matter the size, creates lasting impact in communities.
                </p>
                <div class="page-stats">
                    <div class="page-stat">
                        <span class="stat-number">{{ campaigns|length }}</span>
                        <span class="stat-label">Active Campaigns</span>
                    </div>
                    <div class="page-stat">
                        {% set total_raised = 0 %}
                        {% for campaign in campaigns %}
                            {% set total_raised = total_raised + campaign.raised_amount %}
                        {% endfor %}
                        <span class="stat-number">‚Ç¶{{ "{:,.0f}".format(total_raised) }}</span>
                        <span class="stat-label">Total Raised</span>
                    </div>
                    <div class="page-stat">
                        {% set total_donations = 0 %}
                        {% for campaign in campaigns %}
                            {% set total_donations = total_donations + campaign.transactions|length %}
                        {% endfor %}
                        <span class="stat-number">{{ total_donations }}</span>
                        <span class="stat-label">Total Donations</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Campaigns Grid -->
    <section class="campaigns-grid-section">
        <div class="container">
            {% if campaigns %}
                <!-- Filter/Sort Options -->
                <div class="campaigns-filters">
                    <div class="filter-group">
                        <label for="sort-campaigns">Sort by:</label>
                        <select id="sort-campaigns" class="filter-select">
                            <option value="newest">Newest First</option>
                            <option value="progress">Most Progress</option>
                            <option value="amount">Highest Goal</option>
                            <option value="popular">Most Popular</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter-category">Category:</label>
                        <select id="filter-category" class="filter-select">
                            <option value="all">All Categories</option>
                            <option value="education">Education</option>
                            <option value="healthcare">Healthcare</option>
                            <option value="water">Clean Water</option>
                            <option value="empowerment">Women Empowerment</option>
                        </select>
                    </div>
                </div>

                <!-- Campaigns Grid -->
                <div class="campaigns-grid" id="campaigns-container">
                    {% for campaign in campaigns %}
                    <div class="campaign-card" data-category="water" data-progress="{{ campaign.progress_percentage }}" data-goal="{{ campaign.goal_amount }}">
                        <div class="campaign-image">
                            <img src="{{ campaign.image_url }}" alt="{{ campaign.title }}" loading="lazy">
                            <div class="campaign-overlay">
                                <a href="{{ url_for('campaign', id=campaign.id) }}" class="overlay-btn">View Campaign</a>
                            </div>
                            <div class="campaign-badge">
                                <span class="badge-icon">üíß</span>
                                <span class="badge-text">{{ campaign.currency }}</span>
                            </div>
                        </div>
                        
                        <div class="campaign-content">
                            <h3 class="campaign-title">
                                <a href="{{ url_for('campaign', id=campaign.id) }}">{{ campaign.title }}</a>
                            </h3>
                            <p class="campaign-description">{{ campaign.description[:150] }}{% if campaign.description|length > 150 %}...{% endif %}</p>
                            
                            <div class="campaign-progress">
                                <div class="progress-header">
                                    <span class="progress-raised">{{ campaign.raised_amount | currency(campaign.currency) }}</span>
                                    <span class="progress-goal">of {{ campaign.goal_amount | currency(campaign.currency) }}</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: {{ campaign.progress_percentage }}%"></div>
                                </div>
                                <div class="progress-stats">
                                    <span class="progress-percentage">{{ campaign.progress_percentage | percentage(1) }} funded</span>
                                    <span class="progress-supporters">{{ campaign.transactions|length }} supporters</span>
                                </div>
                            </div>
                            
                            <div class="campaign-meta">
                                <div class="campaign-urgency">
                                    {% set remaining = campaign.goal_amount - campaign.raised_amount %}
                                    <span class="remaining-amount">{{ remaining | currency(campaign.currency) }}</span>
                                    <span class="remaining-text">still needed</span>
                                </div>
                                <div class="campaign-impact">
                                    <span class="impact-icon">üè†</span>
                                    <span class="impact-text">{{ (campaign.raised_amount / 5000) | int }} families helped</span>
                                </div>
                            </div>
                            
                            <div class="campaign-actions">
                                <a href="{{ url_for('campaign', id=campaign.id) }}" class="btn btn-primary btn-full">
                                    Donate Now
                                </a>
                                <div class="quick-actions">
                                    <button class="quick-action-btn" onclick="shareCampaign('{{ campaign.title }}', '{{ url_for('campaign', id=campaign.id, _external=True) }}')">
                                        <span class="action-icon">üì§</span>
                                        Share
                                    </button>
                                    <button class="quick-action-btn" onclick="toggleFavorite({{ campaign.id }})">
                                        <span class="action-icon">‚ù§Ô∏è</span>
                                        Save
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <!-- Load More Button -->
                <div class="load-more-section">
                    <button class="btn btn-secondary" id="load-more-btn">
                        Load More Campaigns
                    </button>
                </div>

            {% else %}
                <!-- No Campaigns State -->
                <div class="no-campaigns-state">
                    <div class="no-campaigns-icon">üìã</div>
                    <h2>No Active Campaigns</h2>
                    <p>We're currently preparing new campaigns to make an impact. Check back soon or contact us to learn about upcoming initiatives.</p>
                    <div class="no-campaigns-actions">
                        <a href="/contact" class="btn btn-primary">Contact Us</a>
                        <a href="/about" class="btn btn-secondary">Learn More</a>
                    </div>
                </div>
            {% endif %}
        </div>
    </section>

    <!-- Impact Statistics -->
    <section class="impact-stats">
        <div class="container">
            <h2 class="section-title">Our Collective Impact</h2>
            <div class="impact-grid">
                <div class="impact-item">
                    <div class="impact-icon">üåç</div>
                    <div class="impact-content">
                        <div class="impact-number">15+</div>
                        <div class="impact-label">Communities Served</div>
                        <div class="impact-description">Across Nigeria and West Africa</div>
                    </div>
                </div>
                <div class="impact-item">
                    <div class="impact-icon">üë•</div>
                    <div class="impact-content">
                        <div class="impact-number">2,500+</div>
                        <div class="impact-label">Lives Changed</div>
                        <div class="impact-description">Women and children empowered</div>
                    </div>
                </div>
                <div class="impact-item">
                    <div class="impact-icon">üíß</div>
                    <div class="impact-content">
                        <div class="impact-number">8</div>
                        <div class="impact-label">Water Systems Built</div>
                        <div class="impact-description">Providing clean water access</div>
                    </div>
                </div>
                <div class="impact-item">
                    <div class="impact-icon">üéì</div>
                    <div class="impact-content">
                        <div class="impact-number">150+</div>
                        <div class="impact-label">Girls Educated</div>
                        <div class="impact-description">Scholarships and support provided</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    
    <!-- Footer -->
    <footer class="footer">
    <div class="container">
        <div class="footer-content">
            
            <!-- Brand Section - Simple -->
            <div class="footer-brand-section">
                <div class="footer-brand">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Black Shepherd Foundation" class="footer-logo">
                    <div class="brand-text">
                        <h3 class="footer-brand-name">Black Shepherd</h3>
                        <p class="footer-tagline">"Bringing a Little Light"</p>
                    </div>
                </div>
                
            </div>
            
            <!-- Single Line: Phone + Email + Instagram -->
            <div class="footer-contact-section">
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <a href="tel:+2349124211336">+234 912 421 1336</a>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:hello@blackshepherd.org">hello@blackshepherd.org</a>
                </div>
                <a href="#" class="social-link" aria-label="Instagram">
                    <i class="fab fa-instagram"></i>
                    <span>@blackshepherd</span>
                </a>
            </div>
        </div>
        
        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <p class="footer-copyright">
                ¬© 2025 Black Shepherd Foundation. All rights reserved.
            </p>
        </div>
    </div>
</footer>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/campaigns.js') }}"></script>
</body>
</html>